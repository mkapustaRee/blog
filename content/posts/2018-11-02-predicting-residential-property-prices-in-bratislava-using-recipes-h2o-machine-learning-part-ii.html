---
title: "Predicting residential property prices in Bratislava using recipes - H2o Machine learning (part II)"
author: "Michal Kapusta"
date: "2018-11-25T21:13:14-05:00"
output: html_document
tags: ["Forecasting", "Recipes", "Tidyverse","Property prices", "H2o","Machine Learning", "Lime"]
categories: ["R"]
---

<script src="/rmarkdown-libs/htmlwidgets/htmlwidgets.js"></script>
<script src="/rmarkdown-libs/jquery/jquery.min.js"></script>
<script src="/rmarkdown-libs/proj4js/proj4.js"></script>
<link href="/rmarkdown-libs/highcharts/css/motion.css" rel="stylesheet" />
<script src="/rmarkdown-libs/highcharts/highcharts.js"></script>
<script src="/rmarkdown-libs/highcharts/highcharts-3d.js"></script>
<script src="/rmarkdown-libs/highcharts/highcharts-more.js"></script>
<script src="/rmarkdown-libs/highcharts/modules/stock.js"></script>
<script src="/rmarkdown-libs/highcharts/modules/heatmap.js"></script>
<script src="/rmarkdown-libs/highcharts/modules/treemap.js"></script>
<script src="/rmarkdown-libs/highcharts/modules/annotations.js"></script>
<script src="/rmarkdown-libs/highcharts/modules/boost.js"></script>
<script src="/rmarkdown-libs/highcharts/modules/data.js"></script>
<script src="/rmarkdown-libs/highcharts/modules/drag-panes.js"></script>
<script src="/rmarkdown-libs/highcharts/modules/drilldown.js"></script>
<script src="/rmarkdown-libs/highcharts/modules/funnel.js"></script>
<script src="/rmarkdown-libs/highcharts/modules/item-series.js"></script>
<script src="/rmarkdown-libs/highcharts/modules/offline-exporting.js"></script>
<script src="/rmarkdown-libs/highcharts/modules/overlapping-datalabels.js"></script>
<script src="/rmarkdown-libs/highcharts/modules/parallel-coordinates.js"></script>
<script src="/rmarkdown-libs/highcharts/modules/sankey.js"></script>
<script src="/rmarkdown-libs/highcharts/modules/solid-gauge.js"></script>
<script src="/rmarkdown-libs/highcharts/modules/streamgraph.js"></script>
<script src="/rmarkdown-libs/highcharts/modules/sunburst.js"></script>
<script src="/rmarkdown-libs/highcharts/modules/vector.js"></script>
<script src="/rmarkdown-libs/highcharts/modules/wordcloud.js"></script>
<script src="/rmarkdown-libs/highcharts/modules/xrange.js"></script>
<script src="/rmarkdown-libs/highcharts/modules/exporting.js"></script>
<script src="/rmarkdown-libs/highcharts/modules/export-data.js"></script>
<script src="/rmarkdown-libs/highcharts/maps/modules/map.js"></script>
<script src="/rmarkdown-libs/highcharts/plugins/grouped-categories.js"></script>
<script src="/rmarkdown-libs/highcharts/plugins/motion.js"></script>
<script src="/rmarkdown-libs/highcharts/plugins/multicolor_series.js"></script>
<script src="/rmarkdown-libs/highcharts/custom/reset.js"></script>
<script src="/rmarkdown-libs/highcharts/custom/symbols-extra.js"></script>
<script src="/rmarkdown-libs/highcharts/custom/text-symbols.js"></script>
<script src="/rmarkdown-libs/highchart-binding/highchart.js"></script>


<div id="summary" class="section level2">
<h2>Summary</h2>
<p>In the previous post [link] (<a href="https://www.michal-kapusta.com/post/forecasting_house_prices/" class="uri">https://www.michal-kapusta.com/post/forecasting_house_prices/</a>) we have used the data from the live listing website and created a linear model that predicted apartment prices. This prediction used only the basic information about the apartments. Now, lets use more sophisticated methods for the prediction like the machine learning (H2o). We hope that by using machine learning we might get more accurate estimate. In the first section, we have acquired more data about the apartments and use this additional data to improve accuracy. The second section will use machine learning to predict the prices. The H2o results scored high accuracy (R2 +0.85) on the test set (approx. 340 new apartments). The results outperform the classical linear regression method used in the first article by a large margin.</p>
</div>
<div id="adding-additional-information-about-the-apartments" class="section level2">
<h2>Adding additional information about the apartments</h2>
<p>In the first post variables used to make prediction contained only elementary information about the apartments. City district, size or number of bedrooms could explain only ca 63% of the variance. In order to enlarge this dataset improved scraper was written capable of gathering information about:</p>
<ul>
<li>floor: flats located in the bottom, top or another story in the building.</li>
<li>balcony: if the flat has a balcony or not.</li>
<li>status: physical obsolescence of the flat.</li>
<li>material: material used in the construction of the building</li>
</ul>
<p>the whole list of indicators is listed below:</p>
<pre class="r"><code>df_final %&gt;% skimr::skim_to_list()</code></pre>
<pre><code>## $factor
## # A tibble: 9 x 7
##   variable    missing complete n     n_unique top_counts            ordered
## * &lt;chr&gt;       &lt;chr&gt;   &lt;chr&gt;    &lt;chr&gt; &lt;chr&gt;    &lt;chr&gt;                 &lt;chr&gt;  
## 1 balcony     0       2197     2197  2        Yes: 1485, No: 712, ~ FALSE  
## 2 basement    0       2197     2197  2        Yes: 1296, No: 901, ~ FALSE  
## 3 district    0       2197     2197  15       ruz: 411, pet: 367, ~ FALSE  
## 4 elevator    0       2197     2197  2        Yes: 1693, No: 504, ~ FALSE  
## 5 floor       0       2197     2197  4        oth: 1369, top: 352,~ FALSE  
## 6 material    0       2197     2197  4        pan: 1087, bri: 982,~ FALSE  
## 7 no_of_bedr~ 0       2197     2197  5        3: 858, 2: 704, 1: 2~ FALSE  
## 8 status      0       2197     2197  4        ref: 1370, par: 534,~ FALSE  
## 9 street      0       2197     2197  588      &quot;Pod: 40, \u0160an: ~ FALSE  
## 
## $numeric
## # A tibble: 2 x 12
##   variable missing complete n     mean  sd    p0    p25   p50   p75   p100 
## * &lt;chr&gt;    &lt;chr&gt;   &lt;chr&gt;    &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;
## 1 price    0       2197     2197  1534~ 7762~ 27000 1099~ 1320~ 1610~ 6179~
## 2 size     0       2197     2197  &quot;   ~ &quot;   ~ 27    51    66    79    246  
## # ... with 1 more variable: hist &lt;chr&gt;</code></pre>
<p>Simply, by adding data about the flat status, material used during the construction we hope to create the more accurate model.</p>
<p>For example, using submarkets instead of districts provides more clarity in terms of pricing. See the chart below:</p>
<pre class="r"><code>df_final %&gt;%
        ggplot(aes(reorder(district, log(price,10)),log(price,10))) +
        geom_jitter(alpha = .1) +
        geom_boxplot(alpha = 0.2) + 
        theme_minimal() +
        labs(title = &quot;Devin and Jarovce are among the most expensive submarkets&quot;,
                subtitle = &quot;Distribution of the apartment sale price per submarket&quot;,
             x = &quot;Submarkets&quot;, y = &quot;log(sale price)&quot;) +
        theme(legend.position = &quot;none&quot;,plot.title = element_text(face = &quot;bold&quot;)) +
        coord_flip()</code></pre>
<p><img src="/posts/2018-11-02-predicting-residential-property-prices-in-bratislava-using-recipes-h2o-machine-learning-part-ii_files/figure-html/price%20distribution%20per%20district-1.png" width="672" /></p>
<p>On the first glance, the submarkets Devin, Jarovce and old city center are the most expensive. In contrast the Vrakuna, Poddunajske biskupice or Dubravka are most affordable. Interestingly, Petrzalka has the narrow price range suggesting fierce price competition.</p>
<p>Another example is the information regarding the status of the flat (refurbed or not).</p>
<pre class="r"><code>df_final %&gt;%
        ggplot(aes(reorder(status, -log(price,10)),log(price,10))) +
        geom_jitter(alpha = .3) +
        geom_boxplot(alpha = 0.2) + 
        theme_minimal() +
        labs(title = &quot;No difference in price for old and partial refurbished flats!!!&quot;,
                subtitle = &quot;Distribution of the apartment sale price per status&quot;,
             x = &quot;Districts of Bratislava&quot;, y = &quot;log(sale price)&quot;) +
        theme(legend.position = &quot;none&quot;,plot.title = element_text(face = &quot;bold&quot;)) </code></pre>
<p><img src="/posts/2018-11-02-predicting-residential-property-prices-in-bratislava-using-recipes-h2o-machine-learning-part-ii_files/figure-html/price%20distribution%20per%20status-1.png" width="672" /></p>
<p>From the chart above it is clear that refurbished apartments are more expensive then others. Interestingly, partial refurbishment yields the same price as old apartments. This means that costs associated with the partial refurbishment of the flat aren’t reflected in the sale price. Based on this information, I would recommend omitting the expenses and effort for partial reconstruction.</p>
</div>
<div id="model-recipe-and-machine-learning" class="section level2">
<h2>Model recipe and machine learning</h2>
<p>Now, let’s apply the simple recipe to the data and preprocess the dataset for h2o machine learning framework.</p>
<p>The recipe is simple, with steps for logging the sale price, doing Box-Cox transformations and collapsing not frequent street names into “other” category. I am avoiding the step dummy for factor variables since H2o can deal with factors in long format.</p>
<pre class="r"><code># recipes
ads_recipe &lt;- recipe(price ~ . , data = df_final) %&gt;%
        step_log(price, base = 10) %&gt;% 
        step_BoxCox(size)   %&gt;% 
        step_other(street, threshold = 0.015) 
      

# split 
split    &lt;- df_final  %&gt;%
                rsample::initial_split(prop = 3/4, strata = &quot;price&quot;)
df_train &lt;- training(split)
df_test  &lt;- testing(split)



rcp_prepped_train &lt;- ads_recipe %&gt;% prep(training = df_train, retain = T)
rcp_prepped_test &lt;- ads_recipe %&gt;% prep(training = df_test, retain = T)

df_train_processed &lt;-rcp_prepped_train %&gt;% juice()
df_test_processed  &lt;-rcp_prepped_test %&gt;% juice()

df_all_processed &lt;- bind_rows(df_train_processed, df_test_processed) %&gt;%
                        mutate(street = factor(street))</code></pre>
<p>The preprocessed are used to feed the AutoML model. Important is the split of the dataset into three parts. Train, valid and test set. Train set will be used to train the model and the validation is used to apply learned insight into the valid set.</p>
<pre class="r"><code>library(h2o)

h2o.init()</code></pre>
<pre><code>##  Connection successful!
## 
## R is connected to the H2O cluster: 
##     H2O cluster uptime:         30 minutes 33 seconds 
##     H2O cluster timezone:       Europe/Bratislava 
##     H2O data parsing timezone:  UTC 
##     H2O cluster version:        3.20.0.8 
##     H2O cluster version age:    3 months and 6 days  
##     H2O cluster name:           H2O_started_from_R_Michal_ylb823 
##     H2O cluster total nodes:    1 
##     H2O cluster total memory:   1.08 GB 
##     H2O cluster total cores:    4 
##     H2O cluster allowed cores:  4 
##     H2O cluster healthy:        TRUE 
##     H2O Connection ip:          localhost 
##     H2O Connection port:        54321 
##     H2O Connection proxy:       NA 
##     H2O Internal Security:      FALSE 
##     H2O API Extensions:         XGBoost, Algos, AutoML, Core V3, Core V4 
##     R Version:                  R version 3.4.1 (2017-06-30)</code></pre>
<pre class="r"><code>data_h2o &lt;- as.h2o(df_all_processed)</code></pre>
<pre><code>## 
  |                                                                       
  |                                                                 |   0%
  |                                                                       
  |=================================================================| 100%</code></pre>
<pre class="r"><code>splits_h2o &lt;- h2o.splitFrame(data_h2o, ratios = c(0.7, 0.15), seed = 1234)

train_h2o &lt;- splits_h2o[[1]]
valid_h2o &lt;- splits_h2o[[2]]
test_h2o  &lt;- splits_h2o[[3]]

y &lt;- &quot;price&quot;
x &lt;- setdiff(names(train_h2o), y)

automl_models_h2o &lt;- h2o.automl(
        x = x,
        y = y,
        training_frame    = train_h2o,
        validation_frame  = valid_h2o,
        leaderboard_frame = test_h2o,
        max_runtime_secs  = 120
)</code></pre>
<pre><code>## 
  |                                                                       
  |                                                                 |   0%
  |                                                                       
  |===                                                              |   4%
  |                                                                       
  |===                                                              |   5%
  |                                                                       
  |=====                                                            |   8%
  |                                                                       
  |======                                                           |  10%
  |                                                                       
  |==========                                                       |  15%
  |                                                                       
  |==========                                                       |  16%
  |                                                                       
  |===========                                                      |  16%
  |                                                                       
  |===========                                                      |  17%
  |                                                                       
  |===========                                                      |  18%
  |                                                                       
  |============                                                     |  18%
  |                                                                       
  |============                                                     |  19%
  |                                                                       
  |=============                                                    |  20%
  |                                                                       
  |==============                                                   |  22%
  |                                                                       
  |===============                                                  |  22%
  |                                                                       
  |===============                                                  |  23%
  |                                                                       
  |====================                                             |  30%
  |                                                                       
  |====================                                             |  31%
  |                                                                       
  |====================                                             |  32%
  |                                                                       
  |=====================                                            |  32%
  |                                                                       
  |=====================                                            |  33%
  |                                                                       
  |======================                                           |  33%
  |                                                                       
  |======================                                           |  34%
  |                                                                       
  |=======================                                          |  35%
  |                                                                       
  |=======================                                          |  36%
  |                                                                       
  |========================                                         |  36%
  |                                                                       
  |========================                                         |  37%
  |                                                                       
  |========================                                         |  38%
  |                                                                       
  |=========================                                        |  38%
  |                                                                       
  |=========================                                        |  39%
  |                                                                       
  |==========================                                       |  39%
  |                                                                       
  |==========================                                       |  40%
  |                                                                       
  |==========================                                       |  41%
  |                                                                       
  |===========================                                      |  41%
  |                                                                       
  |===========================                                      |  42%
  |                                                                       
  |============================                                     |  42%
  |                                                                       
  |============================                                     |  43%
  |                                                                       
  |============================                                     |  44%
  |                                                                       
  |=============================                                    |  44%
  |                                                                       
  |=============================                                    |  45%
  |                                                                       
  |==============================================================   |  95%
  |                                                                       
  |=================================================================| 100%</code></pre>
<pre class="r"><code>automl_leader &lt;- automl_models_h2o@leader

automl_leader</code></pre>
<pre><code>## Model Details:
## ==============
## 
## H2ORegressionModel: stackedensemble
## Model ID:  StackedEnsemble_BestOfFamily_0_AutoML_20181228_073504 
## NULL
## 
## 
## H2ORegressionMetrics: stackedensemble
## ** Reported on training data. **
## 
## MSE:  0.001900568
## RMSE:  0.0435955
## MAE:  0.03060681
## RMSLE:  0.007027196
## Mean Residual Deviance :  0.001900568
## 
## 
## H2ORegressionMetrics: stackedensemble
## ** Reported on validation data. **
## 
## MSE:  0.00496286
## RMSE:  0.07044757
## MAE:  0.04808975
## RMSLE:  0.01119749
## Mean Residual Deviance :  0.00496286
## 
## 
## H2ORegressionMetrics: stackedensemble
## ** Reported on cross-validation data. **
## ** 5-fold cross-validation on training data (Metrics computed for combined holdout predictions) **
## 
## MSE:  0.005121525
## RMSE:  0.07156483
## MAE:  0.04857023
## RMSLE:  0.01151251
## Mean Residual Deviance :  0.005121525</code></pre>
<p>The leader or the most accurate model picked by the h2o framework is the row MODEL ID. The results are impressive since the RMSE is just sub 0.07 on the validation set compared to the 0.10 achieved in the linear regression.</p>
<p>Now, let’s use trained h2o model to predict the data it hasn’t seen before. This step contains using ca 340 new apartments and letting the machine learning algorithm predict the sale price.</p>
<pre><code>## H2ORegressionMetrics: stackedensemble
## 
## MSE:  0.003496665
## RMSE:  0.0591326
## MAE:  0.04044033
## RMSLE:  0.009513124
## Mean Residual Deviance :  0.003496665</code></pre>
<p>The results are showing RMSE of sub 0.10 on the test dataset. Great! Now let’s look at model accuracy using simple visualization. Let’s chart the model prediction and real prices to see how well the model performs.</p>
<pre class="r"><code>library(highcharter)
prediction_h2o &lt;- h2o.predict(automl_leader, newdata = as.h2o(df_test_processed)) %&gt;% as.tibble()</code></pre>
<pre><code>## 
  |                                                                       
  |                                                                 |   0%
  |                                                                       
  |=================================================================| 100%
## 
  |                                                                       
  |                                                                 |   0%
  |                                                                       
  |=================================================================| 100%</code></pre>
<pre class="r"><code>results &lt;-  df_test_processed %&gt;%
                select( price) %&gt;%
                bind_cols(prediction_h2o) %&gt;% 
                mutate_if(is.numeric, funs(10^.)) %&gt;% 
                mutate(diff = price - predict) %&gt;% 
                mutate_if(is.numeric, round, digits = 0)


hchart(results, &quot;scatter&quot;, hcaes(price, predict, regression = TRUE, color = diff)) %&gt;% 
  hc_title(text = &quot;&lt;b&gt;MODEL ACCURACY: Fitted vs Real Prices&lt;/b&gt;&quot;,  align = &quot;left&quot;) %&gt;% 
  hc_subtitle(text = &quot;Sale price and Predicted price in a relationship&quot;,  align = &quot;left&quot;) %&gt;% 
  hc_add_theme(hc_theme_flat()) </code></pre>
<div id="htmlwidget-1" style="width:100%;height:500px;" class="highchart html-widget"></div>
<script type="application/json" data-for="htmlwidget-1">{"x":{"hc_opts":{"title":{"text":"<b>MODEL ACCURACY: Fitted vs Real Prices<\/b>","align":"left"},"yAxis":{"title":{"text":"predict"},"type":"linear"},"credits":{"enabled":false},"exporting":{"enabled":false},"plotOptions":{"series":{"label":{"enabled":false},"turboThreshold":0,"showInLegend":false},"treemap":{"layoutAlgorithm":"squarified"},"scatter":{"marker":{"symbol":"circle"}}},"series":[{"group":"group","data":[{"price":205000,"predict":188922,"diff":16078,"x":205000,"y":188922,"regression":true,"color":"#8BB95A","colorv":16078},{"price":245000,"predict":240057,"diff":4943,"x":245000,"y":240057,"regression":true,"color":"#248085","colorv":4943},{"price":165000,"predict":134032,"diff":30968,"x":165000,"y":134032,"regression":true,"color":"#C7D13E","colorv":30968},{"price":310000,"predict":257162,"diff":52838,"x":310000,"y":257162,"regression":true,"color":"#DCDA34","colorv":52838},{"price":270000,"predict":258025,"diff":11975,"x":270000,"y":258025,"regression":true,"color":"#6CAD68","colorv":11975},{"price":85000,"predict":101747,"diff":-16747,"x":85000,"y":101747,"regression":true,"color":"#410B58","colorv":-16747},{"price":400000,"predict":281763,"diff":118237,"x":400000,"y":281763,"regression":true,"color":"#F6E428","colorv":118237},{"price":350000,"predict":236150,"diff":113850,"x":350000,"y":236150,"regression":true,"color":"#F3E329","colorv":113850},{"price":134900,"predict":122307,"diff":12593,"x":134900,"y":122307,"regression":true,"color":"#71AF66","colorv":12593},{"price":570000,"predict":253795,"diff":316205,"x":570000,"y":253795,"regression":true,"color":"#FDE725","colorv":316205},{"price":274807,"predict":205722,"diff":69085,"x":274807,"y":205722,"regression":true,"color":"#E5DD2F","colorv":69085},{"price":102000,"predict":116291,"diff":-14291,"x":102000,"y":116291,"regression":true,"color":"#400D59","colorv":-14291},{"price":117500,"predict":116544,"diff":956,"x":117500,"y":116544,"regression":true,"color":"#314D71","colorv":956},{"price":117500,"predict":115559,"diff":1941,"x":117500,"y":115559,"regression":true,"color":"#2E5A76","colorv":1941},{"price":142000,"predict":119874,"diff":22126,"x":142000,"y":119874,"regression":true,"color":"#A6C44D","colorv":22126},{"price":345000,"predict":231141,"diff":113859,"x":345000,"y":231141,"regression":true,"color":"#F4E328","colorv":113859},{"price":145000,"predict":125739,"diff":19261,"x":145000,"y":125739,"regression":true,"color":"#9BC052","colorv":19261},{"price":129000,"predict":132409,"diff":-3409,"x":129000,"y":132409,"regression":true,"color":"#3A2863","colorv":-3409},{"price":189100,"predict":167410,"diff":21690,"x":189100,"y":167410,"regression":true,"color":"#A4C44E","colorv":21690},{"price":148000,"predict":137032,"diff":10968,"x":148000,"y":137032,"regression":true,"color":"#62A96D","colorv":10968},{"price":250000,"predict":269843,"diff":-19843,"x":250000,"y":269843,"regression":true,"color":"#420656","colorv":-19843},{"price":250000,"predict":150412,"diff":99588,"x":250000,"y":150412,"regression":true,"color":"#F0E22A","colorv":99588},{"price":126600,"predict":181526,"diff":-54926,"x":126600,"y":181526,"regression":true,"color":"#430154","colorv":-54926},{"price":263000,"predict":192104,"diff":70896,"x":263000,"y":192104,"regression":true,"color":"#E6DE2F","colorv":70896},{"price":309900,"predict":284433,"diff":25467,"x":309900,"y":284433,"regression":true,"color":"#B6CB45","colorv":25467},{"price":95000,"predict":84353,"diff":10647,"x":95000,"y":84353,"regression":true,"color":"#5EA86F","colorv":10647},{"price":132000,"predict":121640,"diff":10360,"x":132000,"y":121640,"regression":true,"color":"#59A671","colorv":10360},{"price":125000,"predict":127137,"diff":-2137,"x":125000,"y":127137,"regression":true,"color":"#392D65","colorv":-2137},{"price":173000,"predict":168848,"diff":4152,"x":173000,"y":168848,"regression":true,"color":"#287280","colorv":4152},{"price":396000,"predict":278606,"diff":117394,"x":396000,"y":278606,"regression":true,"color":"#F5E428","colorv":117394},{"price":105000,"predict":100862,"diff":4138,"x":105000,"y":100862,"regression":true,"color":"#287180","colorv":4138},{"price":100000,"predict":86811,"diff":13189,"x":100000,"y":86811,"regression":true,"color":"#77B263","colorv":13189},{"price":215800,"predict":196870,"diff":18930,"x":215800,"y":196870,"regression":true,"color":"#98BF54","colorv":18930},{"price":107900,"predict":103489,"diff":4411,"x":107900,"y":103489,"regression":true,"color":"#267882","colorv":4411},{"price":235000,"predict":215787,"diff":19213,"x":235000,"y":215787,"regression":true,"color":"#9AC052","colorv":19213},{"price":119000,"predict":100471,"diff":18529,"x":119000,"y":100471,"regression":true,"color":"#97BE54","colorv":18529},{"price":91000,"predict":71136,"diff":19864,"x":91000,"y":71136,"regression":true,"color":"#9CC052","colorv":19864},{"price":131000,"predict":132195,"diff":-1195,"x":131000,"y":132195,"regression":true,"color":"#36396A","colorv":-1195},{"price":99900,"predict":123802,"diff":-23902,"x":99900,"y":123802,"regression":true,"color":"#430455","colorv":-23902},{"price":99900,"predict":123802,"diff":-23902,"x":99900,"y":123802,"regression":true,"color":"#430455","colorv":-23902},{"price":112900,"predict":105732,"diff":7168,"x":112900,"y":105732,"regression":true,"color":"#2A9387","colorv":7168},{"price":81299,"predict":82012,"diff":-713,"x":81299,"y":82012,"regression":true,"color":"#353D6B","colorv":-713},{"price":296542,"predict":272933,"diff":23609,"x":296542,"y":272933,"regression":true,"color":"#B0C848","colorv":23609},{"price":152000,"predict":120396,"diff":31604,"x":152000,"y":120396,"regression":true,"color":"#CBD33C","colorv":31604},{"price":184600,"predict":191380,"diff":-6780,"x":184600,"y":191380,"regression":true,"color":"#3D1B5E","colorv":-6780},{"price":155900,"predict":138846,"diff":17054,"x":155900,"y":138846,"regression":true,"color":"#90BC57","colorv":17054},{"price":133000,"predict":131119,"diff":1881,"x":133000,"y":131119,"regression":true,"color":"#2E5976","colorv":1881},{"price":183000,"predict":159469,"diff":23531,"x":183000,"y":159469,"regression":true,"color":"#AEC749","colorv":23531},{"price":305000,"predict":231087,"diff":73913,"x":305000,"y":231087,"regression":true,"color":"#E9DF2E","colorv":73913},{"price":148000,"predict":138476,"diff":9524,"x":148000,"y":138476,"regression":true,"color":"#4AA078","colorv":9524},{"price":142000,"predict":132472,"diff":9528,"x":142000,"y":132472,"regression":true,"color":"#4CA177","colorv":9528},{"price":123000,"predict":117638,"diff":5362,"x":123000,"y":117638,"regression":true,"color":"#238487","colorv":5362},{"price":145000,"predict":145045,"diff":-45,"x":145000,"y":145045,"regression":true,"color":"#33436D","colorv":-45},{"price":107000,"predict":108756,"diff":-1756,"x":107000,"y":108756,"regression":true,"color":"#373568","colorv":-1756},{"price":305000,"predict":195481,"diff":109519,"x":305000,"y":195481,"regression":true,"color":"#F2E22A","colorv":109519},{"price":151000,"predict":172509,"diff":-21509,"x":151000,"y":172509,"regression":true,"color":"#420555","colorv":-21509},{"price":133000,"predict":147149,"diff":-14149,"x":133000,"y":147149,"regression":true,"color":"#400E59","colorv":-14149},{"price":205000,"predict":163069,"diff":41931,"x":205000,"y":163069,"regression":true,"color":"#D7D836","colorv":41931},{"price":370000,"predict":197340,"diff":172660,"x":370000,"y":197340,"regression":true,"color":"#FCE625","colorv":172660},{"price":100900,"predict":118703,"diff":-17803,"x":100900,"y":118703,"regression":true,"color":"#410A57","colorv":-17803},{"price":359000,"predict":377761,"diff":-18761,"x":359000,"y":377761,"regression":true,"color":"#420756","colorv":-18761},{"price":125000,"predict":115156,"diff":9844,"x":125000,"y":115156,"regression":true,"color":"#53A474","colorv":9844},{"price":387965,"predict":369542,"diff":18423,"x":387965,"y":369542,"regression":true,"color":"#97BE54","colorv":18423},{"price":115000,"predict":105364,"diff":9636,"x":115000,"y":105364,"regression":true,"color":"#4DA176","colorv":9636},{"price":135000,"predict":111428,"diff":23572,"x":135000,"y":111428,"regression":true,"color":"#AFC849","colorv":23572},{"price":133000,"predict":136484,"diff":-3484,"x":133000,"y":136484,"regression":true,"color":"#3A2863","colorv":-3484},{"price":132600,"predict":127860,"diff":4740,"x":132600,"y":127860,"regression":true,"color":"#257E84","colorv":4740},{"price":287520,"predict":251080,"diff":36440,"x":287520,"y":251080,"regression":true,"color":"#D5D737","colorv":36440},{"price":261178,"predict":231765,"diff":29413,"x":261178,"y":231765,"regression":true,"color":"#C2CF40","colorv":29413},{"price":193790,"predict":179314,"diff":14476,"x":193790,"y":179314,"regression":true,"color":"#81B65E","colorv":14476},{"price":117900,"predict":121663,"diff":-3763,"x":117900,"y":121663,"regression":true,"color":"#3B2462","colorv":-3763},{"price":99000,"predict":95642,"diff":3358,"x":99000,"y":95642,"regression":true,"color":"#2A697C","colorv":3358},{"price":198238,"predict":175302,"diff":22936,"x":198238,"y":175302,"regression":true,"color":"#A9C64C","colorv":22936},{"price":350444,"predict":271469,"diff":78975,"x":350444,"y":271469,"regression":true,"color":"#EBE02D","colorv":78975},{"price":220000,"predict":196281,"diff":23719,"x":220000,"y":196281,"regression":true,"color":"#B1C848","colorv":23719},{"price":104400,"predict":93455,"diff":10945,"x":104400,"y":93455,"regression":true,"color":"#61A96D","colorv":10945},{"price":118830,"predict":122867,"diff":-4037,"x":118830,"y":122867,"regression":true,"color":"#3B2361","colorv":-4037},{"price":106000,"predict":118542,"diff":-12542,"x":106000,"y":118542,"regression":true,"color":"#40115A","colorv":-12542},{"price":124700,"predict":123567,"diff":1133,"x":124700,"y":123567,"regression":true,"color":"#304F72","colorv":1133},{"price":85500,"predict":75758,"diff":9742,"x":85500,"y":75758,"regression":true,"color":"#50A275","colorv":9742},{"price":281520,"predict":245759,"diff":35761,"x":281520,"y":245759,"regression":true,"color":"#D4D737","colorv":35761},{"price":99000,"predict":95293,"diff":3707,"x":99000,"y":95293,"regression":true,"color":"#296D7E","colorv":3707},{"price":110000,"predict":83614,"diff":26386,"x":110000,"y":83614,"regression":true,"color":"#B9CC44","colorv":26386},{"price":149900,"predict":134168,"diff":15732,"x":149900,"y":134168,"regression":true,"color":"#88B85B","colorv":15732},{"price":127000,"predict":115580,"diff":11420,"x":127000,"y":115580,"regression":true,"color":"#66AB6B","colorv":11420},{"price":379990,"predict":260571,"diff":119419,"x":379990,"y":260571,"regression":true,"color":"#F7E427","colorv":119419},{"price":78000,"predict":74081,"diff":3919,"x":78000,"y":74081,"regression":true,"color":"#28707F","colorv":3919},{"price":130000,"predict":133706,"diff":-3706,"x":130000,"y":133706,"regression":true,"color":"#3B2562","colorv":-3706},{"price":235000,"predict":177631,"diff":57369,"x":235000,"y":177631,"regression":true,"color":"#E0DB32","colorv":57369},{"price":88000,"predict":82434,"diff":5566,"x":88000,"y":82434,"regression":true,"color":"#238688","colorv":5566},{"price":109000,"predict":105468,"diff":3532,"x":109000,"y":105468,"regression":true,"color":"#296B7D","colorv":3532},{"price":156000,"predict":135732,"diff":20268,"x":156000,"y":135732,"regression":true,"color":"#9EC151","colorv":20268},{"price":133000,"predict":121899,"diff":11101,"x":133000,"y":121899,"regression":true,"color":"#64AA6C","colorv":11101},{"price":125000,"predict":115519,"diff":9481,"x":125000,"y":115519,"regression":true,"color":"#499F79","colorv":9481},{"price":90500,"predict":83174,"diff":7326,"x":90500,"y":83174,"regression":true,"color":"#2C9486","colorv":7326},{"price":163000,"predict":182361,"diff":-19361,"x":163000,"y":182361,"regression":true,"color":"#420756","colorv":-19361},{"price":101800,"predict":101934,"diff":-134,"x":101800,"y":101934,"regression":true,"color":"#34416D","colorv":-134},{"price":111940,"predict":99602,"diff":12338,"x":111940,"y":99602,"regression":true,"color":"#6EAE67","colorv":12338},{"price":150080,"predict":137285,"diff":12795,"x":150080,"y":137285,"regression":true,"color":"#74B164","colorv":12795},{"price":152760,"predict":157590,"diff":-4830,"x":152760,"y":157590,"regression":true,"color":"#3C1F5F","colorv":-4830},{"price":330000,"predict":188991,"diff":141009,"x":330000,"y":188991,"regression":true,"color":"#F9E526","colorv":141009},{"price":119990,"predict":113196,"diff":6794,"x":119990,"y":113196,"regression":true,"color":"#24918A","colorv":6794},{"price":109000,"predict":107596,"diff":1404,"x":109000,"y":107596,"regression":true,"color":"#305273","colorv":1404},{"price":118000,"predict":117700,"diff":300,"x":118000,"y":117700,"regression":true,"color":"#33456E","colorv":300},{"price":55500,"predict":51353,"diff":4147,"x":55500,"y":51353,"regression":true,"color":"#287280","colorv":4147},{"price":144900,"predict":120596,"diff":24304,"x":144900,"y":120596,"regression":true,"color":"#B5CA46","colorv":24304},{"price":139900,"predict":125816,"diff":14084,"x":139900,"y":125816,"regression":true,"color":"#7CB461","colorv":14084},{"price":168000,"predict":152024,"diff":15976,"x":168000,"y":152024,"regression":true,"color":"#8AB95A","colorv":15976},{"price":299900,"predict":284937,"diff":14963,"x":299900,"y":284937,"regression":true,"color":"#83B75D","colorv":14963},{"price":79000,"predict":77798,"diff":1202,"x":79000,"y":77798,"regression":true,"color":"#304F72","colorv":1202},{"price":97000,"predict":80619,"diff":16381,"x":97000,"y":80619,"regression":true,"color":"#8CBA59","colorv":16381},{"price":104000,"predict":104136,"diff":-136,"x":104000,"y":104136,"regression":true,"color":"#34416D","colorv":-136},{"price":235000,"predict":305271,"diff":-70271,"x":235000,"y":305271,"regression":true,"color":"#440154","colorv":-70271},{"price":144000,"predict":130635,"diff":13365,"x":144000,"y":130635,"regression":true,"color":"#78B262","colorv":13365},{"price":94900,"predict":90022,"diff":4878,"x":94900,"y":90022,"regression":true,"color":"#257F85","colorv":4878},{"price":99500,"predict":101487,"diff":-1987,"x":99500,"y":101487,"regression":true,"color":"#383066","colorv":-1987},{"price":145000,"predict":143494,"diff":1506,"x":145000,"y":143494,"regression":true,"color":"#2F5374","colorv":1506},{"price":83900,"predict":79693,"diff":4207,"x":83900,"y":79693,"regression":true,"color":"#287380","colorv":4207},{"price":441730,"predict":329358,"diff":112372,"x":441730,"y":329358,"regression":true,"color":"#F3E329","colorv":112372},{"price":175000,"predict":145119,"diff":29881,"x":175000,"y":145119,"regression":true,"color":"#C4D03F","colorv":29881},{"price":145000,"predict":144744,"diff":256,"x":145000,"y":144744,"regression":true,"color":"#33456E","colorv":256},{"price":140000,"predict":136561,"diff":3439,"x":140000,"y":136561,"regression":true,"color":"#2A6A7D","colorv":3439},{"price":79000,"predict":78087,"diff":913,"x":79000,"y":78087,"regression":true,"color":"#314B71","colorv":913},{"price":143000,"predict":130016,"diff":12984,"x":143000,"y":130016,"regression":true,"color":"#75B164","colorv":12984},{"price":80000,"predict":96930,"diff":-16930,"x":80000,"y":96930,"regression":true,"color":"#410B57","colorv":-16930},{"price":75000,"predict":78577,"diff":-3577,"x":75000,"y":78577,"regression":true,"color":"#3A2762","colorv":-3577},{"price":124500,"predict":121012,"diff":3488,"x":124500,"y":121012,"regression":true,"color":"#2A6A7D","colorv":3488},{"price":259000,"predict":183892,"diff":75108,"x":259000,"y":183892,"regression":true,"color":"#EADF2D","colorv":75108},{"price":117900,"predict":111455,"diff":6445,"x":117900,"y":111455,"regression":true,"color":"#218D8B","colorv":6445},{"price":95900,"predict":100147,"diff":-4247,"x":95900,"y":100147,"regression":true,"color":"#3B2160","colorv":-4247},{"price":198360,"predict":182852,"diff":15508,"x":198360,"y":182852,"regression":true,"color":"#86B75C","colorv":15508},{"price":158120,"predict":137285,"diff":20835,"x":158120,"y":137285,"regression":true,"color":"#A1C24F","colorv":20835},{"price":122000,"predict":123722,"diff":-1722,"x":122000,"y":123722,"regression":true,"color":"#373568","colorv":-1722},{"price":266000,"predict":237539,"diff":28461,"x":266000,"y":237539,"regression":true,"color":"#BFCE41","colorv":28461},{"price":99300,"predict":89518,"diff":9782,"x":99300,"y":89518,"regression":true,"color":"#52A375","colorv":9782},{"price":102330,"predict":99602,"diff":2728,"x":102330,"y":99602,"regression":true,"color":"#2C627A","colorv":2728},{"price":325300,"predict":252577,"diff":72723,"x":325300,"y":252577,"regression":true,"color":"#E8DE2E","colorv":72723},{"price":179990,"predict":145634,"diff":34356,"x":179990,"y":145634,"regression":true,"color":"#D1D539","colorv":34356},{"price":166800,"predict":161527,"diff":5273,"x":166800,"y":161527,"regression":true,"color":"#238387","colorv":5273},{"price":77500,"predict":89760,"diff":-12260,"x":77500,"y":89760,"regression":true,"color":"#3F125A","colorv":-12260},{"price":133000,"predict":121421,"diff":11579,"x":133000,"y":121421,"regression":true,"color":"#68AC6A","colorv":11579},{"price":119000,"predict":114592,"diff":4408,"x":119000,"y":114592,"regression":true,"color":"#267782","colorv":4408},{"price":125000,"predict":115831,"diff":9169,"x":125000,"y":115831,"regression":true,"color":"#419C7C","colorv":9169},{"price":79500,"predict":77131,"diff":2369,"x":79500,"y":77131,"regression":true,"color":"#2C5F79","colorv":2369},{"price":71600,"predict":76182,"diff":-4582,"x":71600,"y":76182,"regression":true,"color":"#3C2060","colorv":-4582},{"price":117900,"predict":114480,"diff":3420,"x":117900,"y":114480,"regression":true,"color":"#2A697C","colorv":3420},{"price":260000,"predict":228745,"diff":31255,"x":260000,"y":228745,"regression":true,"color":"#C8D23D","colorv":31255},{"price":41500,"predict":43542,"diff":-2042,"x":41500,"y":43542,"regression":true,"color":"#382F66","colorv":-2042},{"price":134000,"predict":134497,"diff":-497,"x":134000,"y":134497,"regression":true,"color":"#343F6C","colorv":-497},{"price":113000,"predict":108906,"diff":4094,"x":113000,"y":108906,"regression":true,"color":"#28717F","colorv":4094},{"price":103000,"predict":96317,"diff":6683,"x":103000,"y":96317,"regression":true,"color":"#218F8B","colorv":6683},{"price":239500,"predict":238910,"diff":590,"x":239500,"y":238910,"regression":true,"color":"#324870","colorv":590},{"price":149000,"predict":134025,"diff":14975,"x":149000,"y":134025,"regression":true,"color":"#84B75D","colorv":14975},{"price":79500,"predict":75620,"diff":3880,"x":79500,"y":75620,"regression":true,"color":"#296F7F","colorv":3880},{"price":123000,"predict":122532,"diff":468,"x":123000,"y":122532,"regression":true,"color":"#32476F","colorv":468},{"price":315000,"predict":317331,"diff":-2331,"x":315000,"y":317331,"regression":true,"color":"#392C65","colorv":-2331},{"price":127000,"predict":129470,"diff":-2470,"x":127000,"y":129470,"regression":true,"color":"#392C65","colorv":-2470},{"price":132000,"predict":129240,"diff":2760,"x":132000,"y":129240,"regression":true,"color":"#2B637A","colorv":2760},{"price":81400,"predict":102152,"diff":-20752,"x":81400,"y":102152,"regression":true,"color":"#420656","colorv":-20752},{"price":69990,"predict":84903,"diff":-14913,"x":69990,"y":84903,"regression":true,"color":"#400D58","colorv":-14913},{"price":121000,"predict":120253,"diff":747,"x":121000,"y":120253,"regression":true,"color":"#324A70","colorv":747},{"price":109990,"predict":109063,"diff":927,"x":109990,"y":109063,"regression":true,"color":"#314C71","colorv":927},{"price":104000,"predict":104687,"diff":-687,"x":104000,"y":104687,"regression":true,"color":"#353E6B","colorv":-687},{"price":129000,"predict":118542,"diff":10458,"x":129000,"y":118542,"regression":true,"color":"#5BA770","colorv":10458},{"price":86600,"predict":81905,"diff":4695,"x":86600,"y":81905,"regression":true,"color":"#257C84","colorv":4695},{"price":113000,"predict":103126,"diff":9874,"x":113000,"y":103126,"regression":true,"color":"#54A473","colorv":9874},{"price":135000,"predict":131936,"diff":3064,"x":135000,"y":131936,"regression":true,"color":"#2A677C","colorv":3064},{"price":129000,"predict":128498,"diff":502,"x":129000,"y":128498,"regression":true,"color":"#32476F","colorv":502},{"price":228800,"predict":171740,"diff":57060,"x":228800,"y":171740,"regression":true,"color":"#E0DB32","colorv":57060},{"price":85000,"predict":75772,"diff":9228,"x":85000,"y":75772,"regression":true,"color":"#439D7B","colorv":9228},{"price":130000,"predict":118050,"diff":11950,"x":130000,"y":118050,"regression":true,"color":"#6BAD69","colorv":11950},{"price":160000,"predict":134126,"diff":25874,"x":160000,"y":134126,"regression":true,"color":"#B8CB45","colorv":25874},{"price":164990,"predict":137333,"diff":27657,"x":164990,"y":137333,"regression":true,"color":"#BCCD43","colorv":27657},{"price":145000,"predict":139286,"diff":5714,"x":145000,"y":139286,"regression":true,"color":"#228888","colorv":5714},{"price":279000,"predict":222309,"diff":56691,"x":279000,"y":222309,"regression":true,"color":"#DFDB32","colorv":56691},{"price":202500,"predict":146170,"diff":56330,"x":202500,"y":146170,"regression":true,"color":"#DEDA33","colorv":56330},{"price":199000,"predict":175906,"diff":23094,"x":199000,"y":175906,"regression":true,"color":"#AAC64B","colorv":23094},{"price":142000,"predict":136771,"diff":5229,"x":142000,"y":136771,"regression":true,"color":"#248387","colorv":5229},{"price":112000,"predict":118779,"diff":-6779,"x":112000,"y":118779,"regression":true,"color":"#3D1B5E","colorv":-6779},{"price":157500,"predict":147574,"diff":9926,"x":157500,"y":147574,"regression":true,"color":"#55A473","colorv":9926},{"price":79000,"predict":74260,"diff":4740,"x":79000,"y":74260,"regression":true,"color":"#257E84","colorv":4740},{"price":420000,"predict":294270,"diff":125730,"x":420000,"y":294270,"regression":true,"color":"#F8E527","colorv":125730},{"price":130000,"predict":125400,"diff":4600,"x":130000,"y":125400,"regression":true,"color":"#267B83","colorv":4600},{"price":105500,"predict":91246,"diff":14254,"x":105500,"y":91246,"regression":true,"color":"#7EB560","colorv":14254},{"price":115000,"predict":98571,"diff":16429,"x":115000,"y":98571,"regression":true,"color":"#8DBA59","colorv":16429},{"price":98000,"predict":92510,"diff":5490,"x":98000,"y":92510,"regression":true,"color":"#238587","colorv":5490},{"price":130000,"predict":114654,"diff":15346,"x":130000,"y":114654,"regression":true,"color":"#85B75D","colorv":15346},{"price":269000,"predict":242239,"diff":26761,"x":269000,"y":242239,"regression":true,"color":"#BACC43","colorv":26761},{"price":140000,"predict":131130,"diff":8870,"x":140000,"y":131130,"regression":true,"color":"#3E9B7E","colorv":8870},{"price":82500,"predict":72049,"diff":10451,"x":82500,"y":72049,"regression":true,"color":"#5AA671","colorv":10451},{"price":278000,"predict":244672,"diff":33328,"x":278000,"y":244672,"regression":true,"color":"#CED43A","colorv":33328},{"price":120000,"predict":119573,"diff":427,"x":120000,"y":119573,"regression":true,"color":"#33466F","colorv":427},{"price":154000,"predict":157122,"diff":-3122,"x":154000,"y":157122,"regression":true,"color":"#392A64","colorv":-3122},{"price":152000,"predict":116485,"diff":35515,"x":152000,"y":116485,"regression":true,"color":"#D3D638","colorv":35515},{"price":133000,"predict":115542,"diff":17458,"x":133000,"y":115542,"regression":true,"color":"#94BD55","colorv":17458},{"price":213134,"predict":183319,"diff":29815,"x":213134,"y":183319,"regression":true,"color":"#C4D03F","colorv":29815},{"price":114990,"predict":106314,"diff":8676,"x":114990,"y":106314,"regression":true,"color":"#3C9A7F","colorv":8676},{"price":123000,"predict":112146,"diff":10854,"x":123000,"y":112146,"regression":true,"color":"#60A96E","colorv":10854},{"price":179900,"predict":141209,"diff":38691,"x":179900,"y":141209,"regression":true,"color":"#D7D736","colorv":38691},{"price":133000,"predict":123695,"diff":9305,"x":133000,"y":123695,"regression":true,"color":"#459E7A","colorv":9305},{"price":113000,"predict":106314,"diff":6686,"x":113000,"y":106314,"regression":true,"color":"#21908B","colorv":6686},{"price":113000,"predict":106606,"diff":6394,"x":113000,"y":106606,"regression":true,"color":"#218D8A","colorv":6394},{"price":160000,"predict":146916,"diff":13084,"x":160000,"y":146916,"regression":true,"color":"#75B164","colorv":13084},{"price":84200,"predict":79959,"diff":4241,"x":84200,"y":79959,"regression":true,"color":"#277481","colorv":4241},{"price":146777,"predict":131244,"diff":15533,"x":146777,"y":131244,"regression":true,"color":"#86B85C","colorv":15533},{"price":82000,"predict":80784,"diff":1216,"x":82000,"y":80784,"regression":true,"color":"#305073","colorv":1216},{"price":101000,"predict":96788,"diff":4212,"x":101000,"y":96788,"regression":true,"color":"#277380","colorv":4212},{"price":115900,"predict":111994,"diff":3906,"x":115900,"y":111994,"regression":true,"color":"#286F7F","colorv":3906},{"price":240000,"predict":243599,"diff":-3599,"x":240000,"y":243599,"regression":true,"color":"#3A2662","colorv":-3599},{"price":159900,"predict":181554,"diff":-21654,"x":159900,"y":181554,"regression":true,"color":"#420555","colorv":-21654},{"price":148000,"predict":139991,"diff":8009,"x":148000,"y":139991,"regression":true,"color":"#369882","colorv":8009},{"price":302000,"predict":203614,"diff":98386,"x":302000,"y":203614,"regression":true,"color":"#EEE12B","colorv":98386},{"price":105000,"predict":103396,"diff":1604,"x":105000,"y":103396,"regression":true,"color":"#2F5675","colorv":1604},{"price":115000,"predict":107362,"diff":7638,"x":115000,"y":107362,"regression":true,"color":"#319684","colorv":7638},{"price":105000,"predict":105974,"diff":-974,"x":105000,"y":105974,"regression":true,"color":"#353C6B","colorv":-974},{"price":120000,"predict":110951,"diff":9049,"x":120000,"y":110951,"regression":true,"color":"#3F9B7D","colorv":9049},{"price":106600,"predict":103616,"diff":2984,"x":106600,"y":103616,"regression":true,"color":"#2B667B","colorv":2984},{"price":169900,"predict":138240,"diff":31660,"x":169900,"y":138240,"regression":true,"color":"#CCD33B","colorv":31660},{"price":150000,"predict":137465,"diff":12535,"x":150000,"y":137465,"regression":true,"color":"#70AF66","colorv":12535},{"price":127000,"predict":121599,"diff":5401,"x":127000,"y":121599,"regression":true,"color":"#238587","colorv":5401},{"price":70500,"predict":70333,"diff":167,"x":70500,"y":70333,"regression":true,"color":"#33446E","colorv":167},{"price":145000,"predict":135182,"diff":9818,"x":145000,"y":135182,"regression":true,"color":"#52A374","colorv":9818},{"price":159900,"predict":153572,"diff":6328,"x":159900,"y":153572,"regression":true,"color":"#228B8A","colorv":6328},{"price":144999,"predict":140328,"diff":4671,"x":144999,"y":140328,"regression":true,"color":"#257C84","colorv":4671},{"price":165000,"predict":157710,"diff":7290,"x":165000,"y":157710,"regression":true,"color":"#2C9486","colorv":7290},{"price":144500,"predict":120596,"diff":23904,"x":144500,"y":120596,"regression":true,"color":"#B2C947","colorv":23904},{"price":175000,"predict":165135,"diff":9865,"x":175000,"y":165135,"regression":true,"color":"#53A474","colorv":9865},{"price":90000,"predict":68040,"diff":21960,"x":90000,"y":68040,"regression":true,"color":"#A5C44D","colorv":21960},{"price":90000,"predict":80266,"diff":9734,"x":90000,"y":80266,"regression":true,"color":"#4EA276","colorv":9734},{"price":150000,"predict":140747,"diff":9253,"x":150000,"y":140747,"regression":true,"color":"#449D7B","colorv":9253},{"price":92000,"predict":68893,"diff":23107,"x":92000,"y":68893,"regression":true,"color":"#ABC64B","colorv":23107},{"price":169000,"predict":159224,"diff":9776,"x":169000,"y":159224,"regression":true,"color":"#51A375","colorv":9776},{"price":110000,"predict":105726,"diff":4274,"x":110000,"y":105726,"regression":true,"color":"#277481","colorv":4274},{"price":159900,"predict":153572,"diff":6328,"x":159900,"y":153572,"regression":true,"color":"#228B8A","colorv":6328},{"price":85000,"predict":80069,"diff":4931,"x":85000,"y":80069,"regression":true,"color":"#257F85","colorv":4931},{"price":330000,"predict":239031,"diff":90969,"x":330000,"y":239031,"regression":true,"color":"#EEE12B","colorv":90969},{"price":112000,"predict":93962,"diff":18038,"x":112000,"y":93962,"regression":true,"color":"#96BE54","colorv":18038},{"price":100000,"predict":98090,"diff":1910,"x":100000,"y":98090,"regression":true,"color":"#2E5976","colorv":1910},{"price":105000,"predict":101288,"diff":3712,"x":105000,"y":101288,"regression":true,"color":"#296E7E","colorv":3712},{"price":198000,"predict":137723,"diff":60277,"x":198000,"y":137723,"regression":true,"color":"#E2DC31","colorv":60277},{"price":153400,"predict":171394,"diff":-17994,"x":153400,"y":171394,"regression":true,"color":"#420957","colorv":-17994},{"price":95000,"predict":93445,"diff":1555,"x":95000,"y":93445,"regression":true,"color":"#2F5474","colorv":1555},{"price":230000,"predict":165535,"diff":64465,"x":230000,"y":165535,"regression":true,"color":"#E5DD30","colorv":64465},{"price":215000,"predict":183629,"diff":31371,"x":215000,"y":183629,"regression":true,"color":"#C8D23D","colorv":31371},{"price":109000,"predict":100283,"diff":8717,"x":109000,"y":100283,"regression":true,"color":"#3D9B7E","colorv":8717},{"price":95000,"predict":87436,"diff":7564,"x":95000,"y":87436,"regression":true,"color":"#319684","colorv":7564},{"price":89900,"predict":102564,"diff":-12664,"x":89900,"y":102564,"regression":true,"color":"#40105A","colorv":-12664},{"price":77000,"predict":75403,"diff":1597,"x":77000,"y":75403,"regression":true,"color":"#2F5575","colorv":1597},{"price":106000,"predict":92068,"diff":13932,"x":106000,"y":92068,"regression":true,"color":"#7BB361","colorv":13932},{"price":131000,"predict":123921,"diff":7079,"x":131000,"y":123921,"regression":true,"color":"#289388","colorv":7079},{"price":139800,"predict":151098,"diff":-11298,"x":139800,"y":151098,"regression":true,"color":"#3F145B","colorv":-11298},{"price":159000,"predict":150994,"diff":8006,"x":159000,"y":150994,"regression":true,"color":"#359782","colorv":8006},{"price":133700,"predict":117799,"diff":15901,"x":133700,"y":117799,"regression":true,"color":"#89B95B","colorv":15901},{"price":89990,"predict":85204,"diff":4786,"x":89990,"y":85204,"regression":true,"color":"#257E85","colorv":4786},{"price":84000,"predict":98166,"diff":-14166,"x":84000,"y":98166,"regression":true,"color":"#400E59","colorv":-14166},{"price":109000,"predict":107232,"diff":1768,"x":109000,"y":107232,"regression":true,"color":"#2E5876","colorv":1768},{"price":168500,"predict":159210,"diff":9290,"x":168500,"y":159210,"regression":true,"color":"#449E7B","colorv":9290},{"price":235000,"predict":217952,"diff":17048,"x":235000,"y":217952,"regression":true,"color":"#90BB58","colorv":17048},{"price":249990,"predict":195944,"diff":54046,"x":249990,"y":195944,"regression":true,"color":"#DDDA33","colorv":54046},{"price":154900,"predict":156678,"diff":-1778,"x":154900,"y":156678,"regression":true,"color":"#373367","colorv":-1778},{"price":99900,"predict":100245,"diff":-345,"x":99900,"y":100245,"regression":true,"color":"#34406C","colorv":-345},{"price":259000,"predict":212643,"diff":46357,"x":259000,"y":212643,"regression":true,"color":"#DAD935","colorv":46357},{"price":166600,"predict":161487,"diff":5113,"x":166600,"y":161487,"regression":true,"color":"#248286","colorv":5113},{"price":85000,"predict":81254,"diff":3746,"x":85000,"y":81254,"regression":true,"color":"#296F7F","colorv":3746},{"price":105000,"predict":102749,"diff":2251,"x":105000,"y":102749,"regression":true,"color":"#2D5E78","colorv":2251},{"price":262000,"predict":176754,"diff":85246,"x":262000,"y":176754,"regression":true,"color":"#EDE02C","colorv":85246},{"price":166700,"predict":144398,"diff":22302,"x":166700,"y":144398,"regression":true,"color":"#A7C54D","colorv":22302},{"price":110000,"predict":100475,"diff":9525,"x":110000,"y":100475,"regression":true,"color":"#4BA078","colorv":9525},{"price":89000,"predict":89994,"diff":-994,"x":89000,"y":89994,"regression":true,"color":"#353B6A","colorv":-994},{"price":123000,"predict":132195,"diff":-9195,"x":123000,"y":132195,"regression":true,"color":"#3E155C","colorv":-9195},{"price":197000,"predict":180368,"diff":16632,"x":197000,"y":180368,"regression":true,"color":"#8FBB58","colorv":16632},{"price":152900,"predict":139366,"diff":13534,"x":152900,"y":139366,"regression":true,"color":"#79B362","colorv":13534},{"price":97000,"predict":90706,"diff":6294,"x":97000,"y":90706,"regression":true,"color":"#228A89","colorv":6294},{"price":216500,"predict":203814,"diff":12686,"x":216500,"y":203814,"regression":true,"color":"#73B065","colorv":12686},{"price":79900,"predict":86939,"diff":-7039,"x":79900,"y":86939,"regression":true,"color":"#3D1A5D","colorv":-7039},{"price":135000,"predict":133896,"diff":1104,"x":135000,"y":133896,"regression":true,"color":"#314E72","colorv":1104},{"price":141000,"predict":164139,"diff":-23139,"x":141000,"y":164139,"regression":true,"color":"#430455","colorv":-23139},{"price":205000,"predict":171574,"diff":33426,"x":205000,"y":171574,"regression":true,"color":"#CFD53A","colorv":33426},{"price":110000,"predict":116074,"diff":-6074,"x":110000,"y":116074,"regression":true,"color":"#3D1C5E","colorv":-6074},{"price":145000,"predict":153789,"diff":-8789,"x":145000,"y":153789,"regression":true,"color":"#3E175C","colorv":-8789},{"price":195300,"predict":183496,"diff":11804,"x":195300,"y":183496,"regression":true,"color":"#6AAC69","colorv":11804},{"price":198400,"predict":189032,"diff":9368,"x":198400,"y":189032,"regression":true,"color":"#489F79","colorv":9368},{"price":93000,"predict":97221,"diff":-4221,"x":93000,"y":97221,"regression":true,"color":"#3B2261","colorv":-4221},{"price":99000,"predict":97225,"diff":1775,"x":99000,"y":97225,"regression":true,"color":"#2E5976","colorv":1775},{"price":129000,"predict":127280,"diff":1720,"x":129000,"y":127280,"regression":true,"color":"#2E5776","colorv":1720},{"price":109500,"predict":113613,"diff":-4114,"x":109500,"y":113613,"regression":true,"color":"#3B2261","colorv":-4114},{"price":93000,"predict":85307,"diff":7693,"x":93000,"y":85307,"regression":true,"color":"#329783","colorv":7693},{"price":145100,"predict":119397,"diff":25703,"x":145100,"y":119397,"regression":true,"color":"#B7CB45","colorv":25703},{"price":119000,"predict":107324,"diff":11676,"x":119000,"y":107324,"regression":true,"color":"#69AC6A","colorv":11676},{"price":90000,"predict":89381,"diff":619,"x":90000,"y":89381,"regression":true,"color":"#324970","colorv":619},{"price":112000,"predict":101741,"diff":10259,"x":112000,"y":101741,"regression":true,"color":"#58A671","colorv":10259},{"price":122400,"predict":109943,"diff":12457,"x":122400,"y":109943,"regression":true,"color":"#6FAE67","colorv":12457},{"price":118990,"predict":120302,"diff":-1312,"x":118990,"y":120302,"regression":true,"color":"#363869","colorv":-1312},{"price":140800,"predict":138846,"diff":1954,"x":140800,"y":138846,"regression":true,"color":"#2E5A77","colorv":1954},{"price":180000,"predict":153845,"diff":26155,"x":180000,"y":153845,"regression":true,"color":"#B9CC44","colorv":26155},{"price":83500,"predict":80380,"diff":3120,"x":83500,"y":80380,"regression":true,"color":"#2A687C","colorv":3120},{"price":137000,"predict":147118,"diff":-10118,"x":137000,"y":147118,"regression":true,"color":"#3F155B","colorv":-10118},{"price":138700,"predict":116126,"diff":22574,"x":138700,"y":116126,"regression":true,"color":"#A8C54C","colorv":22574},{"price":155900,"predict":144003,"diff":11897,"x":155900,"y":144003,"regression":true,"color":"#6AAD69","colorv":11897},{"price":149500,"predict":128568,"diff":20932,"x":149500,"y":128568,"regression":true,"color":"#A3C34F","colorv":20932},{"price":130000,"predict":133896,"diff":-3896,"x":130000,"y":133896,"regression":true,"color":"#3B2361","colorv":-3896},{"price":118500,"predict":113401,"diff":5099,"x":118500,"y":113401,"regression":true,"color":"#248286","colorv":5099},{"price":146600,"predict":132472,"diff":14128,"x":146600,"y":132472,"regression":true,"color":"#7DB460","colorv":14128},{"price":110000,"predict":105364,"diff":4636,"x":110000,"y":105364,"regression":true,"color":"#257B84","colorv":4636},{"price":142000,"predict":152326,"diff":-10326,"x":142000,"y":152326,"regression":true,"color":"#3F145B","colorv":-10326},{"price":140000,"predict":139098,"diff":902,"x":140000,"y":139098,"regression":true,"color":"#314B70","colorv":902},{"price":532900,"predict":387404,"diff":145496,"x":532900,"y":387404,"regression":true,"color":"#FAE626","colorv":145496},{"price":546500,"predict":412029,"diff":134471,"x":546500,"y":412029,"regression":true,"color":"#F8E526","colorv":134471},{"price":73900,"predict":69538,"diff":4362,"x":73900,"y":69538,"regression":true,"color":"#277581","colorv":4362},{"price":186000,"predict":154463,"diff":31537,"x":186000,"y":154463,"regression":true,"color":"#CAD33C","colorv":31537},{"price":142000,"predict":122948,"diff":19052,"x":142000,"y":122948,"regression":true,"color":"#99BF53","colorv":19052},{"price":86000,"predict":79654,"diff":6346,"x":86000,"y":79654,"regression":true,"color":"#218B8A","colorv":6346},{"price":135000,"predict":135871,"diff":-871,"x":135000,"y":135871,"regression":true,"color":"#353C6B","colorv":-871},{"price":122000,"predict":123276,"diff":-1276,"x":122000,"y":123276,"regression":true,"color":"#363869","colorv":-1276},{"price":459000,"predict":301547,"diff":157453,"x":459000,"y":301547,"regression":true,"color":"#FBE625","colorv":157453},{"price":128000,"predict":126300,"diff":1700,"x":128000,"y":126300,"regression":true,"color":"#2E5675","colorv":1700},{"price":76500,"predict":76317,"diff":183,"x":76500,"y":76317,"regression":true,"color":"#33446E","colorv":183},{"price":106900,"predict":100801,"diff":6099,"x":106900,"y":100801,"regression":true,"color":"#228989","colorv":6099},{"price":134000,"predict":130507,"diff":3493,"x":134000,"y":130507,"regression":true,"color":"#296B7D","colorv":3493},{"price":99900,"predict":101842,"diff":-1942,"x":99900,"y":101842,"regression":true,"color":"#373267","colorv":-1942},{"price":69900,"predict":73081,"diff":-3181,"x":69900,"y":73081,"regression":true,"color":"#392A64","colorv":-3181},{"price":249900,"predict":214994,"diff":34906,"x":249900,"y":214994,"regression":true,"color":"#D2D638","colorv":34906},{"price":133800,"predict":119533,"diff":14267,"x":133800,"y":119533,"regression":true,"color":"#7FB55F","colorv":14267},{"price":133000,"predict":140895,"diff":-7895,"x":133000,"y":140895,"regression":true,"color":"#3E185D","colorv":-7895},{"price":123000,"predict":121038,"diff":1962,"x":123000,"y":121038,"regression":true,"color":"#2D5B77","colorv":1962},{"price":131000,"predict":134529,"diff":-3529,"x":131000,"y":134529,"regression":true,"color":"#3A2763","colorv":-3529},{"price":86500,"predict":88445,"diff":-1945,"x":86500,"y":88445,"regression":true,"color":"#383166","colorv":-1945},{"price":164500,"predict":119417,"diff":45083,"x":164500,"y":119417,"regression":true,"color":"#D9D835","colorv":45083},{"price":99970,"predict":100270,"diff":-300,"x":99970,"y":100270,"regression":true,"color":"#34406D","colorv":-300},{"price":119900,"predict":118453,"diff":1447,"x":119900,"y":118453,"regression":true,"color":"#305273","colorv":1447},{"price":118500,"predict":113401,"diff":5099,"x":118500,"y":113401,"regression":true,"color":"#248286","colorv":5099},{"price":168500,"predict":139151,"diff":29349,"x":168500,"y":139151,"regression":true,"color":"#C1CF40","colorv":29349},{"price":250000,"predict":235455,"diff":14545,"x":250000,"y":235455,"regression":true,"color":"#81B65E","colorv":14545},{"price":94500,"predict":92280,"diff":2220,"x":94500,"y":92280,"regression":true,"color":"#2D5D78","colorv":2220},{"price":129990,"predict":101256,"diff":28734,"x":129990,"y":101256,"regression":true,"color":"#C0CF41","colorv":28734},{"price":68000,"predict":66520,"diff":1480,"x":68000,"y":66520,"regression":true,"color":"#2F5374","colorv":1480},{"price":245000,"predict":194490,"diff":50510,"x":245000,"y":194490,"regression":true,"color":"#DBD934","colorv":50510},{"price":112000,"predict":98766,"diff":13234,"x":112000,"y":98766,"regression":true,"color":"#78B263","colorv":13234},{"price":137000,"predict":129802,"diff":7198,"x":137000,"y":129802,"regression":true,"color":"#2B9487","colorv":7198},{"price":119900,"predict":109803,"diff":10097,"x":119900,"y":109803,"regression":true,"color":"#57A572","colorv":10097},{"price":121900,"predict":107160,"diff":14740,"x":121900,"y":107160,"regression":true,"color":"#82B65E","colorv":14740},{"price":119999,"predict":122015,"diff":-2016,"x":119999,"y":122015,"regression":true,"color":"#382F66","colorv":-2016},{"price":119900,"predict":109803,"diff":10097,"x":119900,"y":109803,"regression":true,"color":"#57A572","colorv":10097},{"price":128000,"predict":132337,"diff":-4337,"x":128000,"y":132337,"regression":true,"color":"#3C2060","colorv":-4337},{"price":132000,"predict":107830,"diff":24170,"x":132000,"y":107830,"regression":true,"color":"#B4CA47","colorv":24170},{"price":275000,"predict":222552,"diff":52448,"x":275000,"y":222552,"regression":true,"color":"#DBD934","colorv":52448},{"price":124900,"predict":118735,"diff":6165,"x":124900,"y":118735,"regression":true,"color":"#228989","colorv":6165},{"price":116900,"predict":109803,"diff":7097,"x":116900,"y":109803,"regression":true,"color":"#299387","colorv":7097},{"price":154500,"predict":140747,"diff":13753,"x":154500,"y":140747,"regression":true,"color":"#7AB362","colorv":13753},{"price":136999,"predict":127687,"diff":9312,"x":136999,"y":127687,"regression":true,"color":"#469E7A","colorv":9312},{"price":118900,"predict":109803,"diff":9097,"x":118900,"y":109803,"regression":true,"color":"#409C7D","colorv":9097},{"price":93610,"predict":95439,"diff":-1829,"x":93610,"y":95439,"regression":true,"color":"#373367","colorv":-1829},{"price":179000,"predict":184366,"diff":-5366,"x":179000,"y":184366,"regression":true,"color":"#3D1D5F","colorv":-5366},{"price":85000,"predict":83023,"diff":1977,"x":85000,"y":83023,"regression":true,"color":"#2D5B77","colorv":1977},{"price":279000,"predict":215096,"diff":63904,"x":279000,"y":215096,"regression":true,"color":"#E4DD30","colorv":63904},{"price":99000,"predict":94654,"diff":4346,"x":99000,"y":94654,"regression":true,"color":"#277581","colorv":4346},{"price":95000,"predict":92066,"diff":2934,"x":95000,"y":92066,"regression":true,"color":"#2B657B","colorv":2934},{"price":110500,"predict":90515,"diff":19985,"x":110500,"y":90515,"regression":true,"color":"#9EC151","colorv":19985},{"price":128000,"predict":120970,"diff":7030,"x":128000,"y":120970,"regression":true,"color":"#279289","colorv":7030},{"price":125000,"predict":119992,"diff":5008,"x":125000,"y":119992,"regression":true,"color":"#248086","colorv":5008},{"price":195000,"predict":152998,"diff":42002,"x":195000,"y":152998,"regression":true,"color":"#D8D836","colorv":42002},{"price":133000,"predict":135112,"diff":-2112,"x":133000,"y":135112,"regression":true,"color":"#382E65","colorv":-2112},{"price":148000,"predict":136788,"diff":11212,"x":148000,"y":136788,"regression":true,"color":"#65AA6C","colorv":11212},{"price":98000,"predict":91464,"diff":6536,"x":98000,"y":91464,"regression":true,"color":"#218F8B","colorv":6536},{"price":117490,"predict":115912,"diff":1578,"x":117490,"y":115912,"regression":true,"color":"#2F5574","colorv":1578},{"price":556500,"predict":301918,"diff":254582,"x":556500,"y":301918,"regression":true,"color":"#FDE725","colorv":254582},{"price":71400,"predict":73081,"diff":-1681,"x":71400,"y":73081,"regression":true,"color":"#363668","colorv":-1681},{"price":255000,"predict":231650,"diff":23350,"x":255000,"y":231650,"regression":true,"color":"#ACC74A","colorv":23350},{"price":93000,"predict":94948,"diff":-1948,"x":93000,"y":94948,"regression":true,"color":"#383066","colorv":-1948},{"price":137000,"predict":127687,"diff":9313,"x":137000,"y":127687,"regression":true,"color":"#479F7A","colorv":9313},{"price":120900,"predict":117364,"diff":3536,"x":120900,"y":117364,"regression":true,"color":"#296C7E","colorv":3536},{"price":106900,"predict":99040,"diff":7860,"x":106900,"y":99040,"regression":true,"color":"#349782","colorv":7860},{"price":116000,"predict":110440,"diff":5560,"x":116000,"y":110440,"regression":true,"color":"#238688","colorv":5560},{"price":250000,"predict":191401,"diff":58599,"x":250000,"y":191401,"regression":true,"color":"#E1DC31","colorv":58599},{"price":282000,"predict":207360,"diff":74640,"x":282000,"y":207360,"regression":true,"color":"#EADF2D","colorv":74640},{"price":150000,"predict":137909,"diff":12091,"x":150000,"y":137909,"regression":true,"color":"#6DAE68","colorv":12091},{"price":70000,"predict":65566,"diff":4434,"x":70000,"y":65566,"regression":true,"color":"#267983","colorv":4434},{"price":115000,"predict":100672,"diff":14328,"x":115000,"y":100672,"regression":true,"color":"#80B55F","colorv":14328},{"price":94990,"predict":92066,"diff":2924,"x":94990,"y":92066,"regression":true,"color":"#2B657B","colorv":2924},{"price":148000,"predict":137259,"diff":10741,"x":148000,"y":137259,"regression":true,"color":"#5FA86E","colorv":10741},{"price":102900,"predict":86407,"diff":16493,"x":102900,"y":86407,"regression":true,"color":"#8EBB58","colorv":16493},{"price":119000,"predict":116336,"diff":2664,"x":119000,"y":116336,"regression":true,"color":"#2C6179","colorv":2664},{"price":220000,"predict":209512,"diff":10488,"x":220000,"y":209512,"regression":true,"color":"#5CA76F","colorv":10488},{"price":139000,"predict":133355,"diff":5645,"x":139000,"y":133355,"regression":true,"color":"#238788","colorv":5645},{"price":142000,"predict":133468,"diff":8532,"x":142000,"y":133468,"regression":true,"color":"#3B9A7F","colorv":8532},{"price":152000,"predict":128627,"diff":23373,"x":152000,"y":128627,"regression":true,"color":"#ADC74A","colorv":23373},{"price":107000,"predict":118564,"diff":-11564,"x":107000,"y":118564,"regression":true,"color":"#3F135B","colorv":-11564},{"price":219000,"predict":188922,"diff":30078,"x":219000,"y":188922,"regression":true,"color":"#C5D13E","colorv":30078},{"price":97200,"predict":100416,"diff":-3216,"x":97200,"y":100416,"regression":true,"color":"#3A2963","colorv":-3216},{"price":143000,"predict":110779,"diff":32221,"x":143000,"y":110779,"regression":true,"color":"#CDD43B","colorv":32221},{"price":157000,"predict":148657,"diff":8343,"x":157000,"y":148657,"regression":true,"color":"#389980","colorv":8343},{"price":107000,"predict":96162,"diff":10838,"x":107000,"y":96162,"regression":true,"color":"#60A86E","colorv":10838},{"price":128000,"predict":122633,"diff":5367,"x":128000,"y":122633,"regression":true,"color":"#238587","colorv":5367},{"price":130000,"predict":132625,"diff":-2625,"x":130000,"y":132625,"regression":true,"color":"#392C65","colorv":-2625},{"price":109900,"predict":106571,"diff":3329,"x":109900,"y":106571,"regression":true,"color":"#2A687C","colorv":3329},{"price":70000,"predict":65566,"diff":4434,"x":70000,"y":65566,"regression":true,"color":"#267983","colorv":4434},{"price":140000,"predict":132583,"diff":7417,"x":140000,"y":132583,"regression":true,"color":"#2D9586","colorv":7417},{"price":115000,"predict":128765,"diff":-13765,"x":115000,"y":128765,"regression":true,"color":"#401059","colorv":-13765},{"price":122500,"predict":103390,"diff":19110,"x":122500,"y":103390,"regression":true,"color":"#99BF53","colorv":19110},{"price":116900,"predict":107160,"diff":9740,"x":116900,"y":107160,"regression":true,"color":"#4FA276","colorv":9740},{"price":138000,"predict":134078,"diff":3922,"x":138000,"y":134078,"regression":true,"color":"#28707F","colorv":3922},{"price":86990,"predict":73860,"diff":13130,"x":86990,"y":73860,"regression":true,"color":"#76B163","colorv":13130},{"price":86990,"predict":69535,"diff":17455,"x":86990,"y":69535,"regression":true,"color":"#94BD56","colorv":17455},{"price":125000,"predict":123464,"diff":1536,"x":125000,"y":123464,"regression":true,"color":"#2F5474","colorv":1536},{"price":115000,"predict":107937,"diff":7063,"x":115000,"y":107937,"regression":true,"color":"#289288","colorv":7063},{"price":102000,"predict":94262,"diff":7738,"x":102000,"y":94262,"regression":true,"color":"#339783","colorv":7738},{"price":195000,"predict":192950,"diff":2050,"x":195000,"y":192950,"regression":true,"color":"#2D5C77","colorv":2050},{"price":262000,"predict":227564,"diff":34436,"x":262000,"y":227564,"regression":true,"color":"#D2D639","colorv":34436},{"price":159900,"predict":142680,"diff":17220,"x":159900,"y":142680,"regression":true,"color":"#92BC56","colorv":17220},{"price":71900,"predict":73081,"diff":-1181,"x":71900,"y":73081,"regression":true,"color":"#353A6A","colorv":-1181},{"price":107900,"predict":95137,"diff":12763,"x":107900,"y":95137,"regression":true,"color":"#73B065","colorv":12763},{"price":142000,"predict":139218,"diff":2782,"x":142000,"y":139218,"regression":true,"color":"#2B647A","colorv":2782},{"price":122000,"predict":123166,"diff":-1166,"x":122000,"y":123166,"regression":true,"color":"#353A6A","colorv":-1166},{"price":150000,"predict":128970,"diff":21030,"x":150000,"y":128970,"regression":true,"color":"#A3C34E","colorv":21030},{"price":143500,"predict":119397,"diff":24103,"x":143500,"y":119397,"regression":true,"color":"#B3C947","colorv":24103},{"price":107999,"predict":97439,"diff":10560,"x":107999,"y":97439,"regression":true,"color":"#5DA76F","colorv":10560},{"price":99000,"predict":96788,"diff":2212,"x":99000,"y":96788,"regression":true,"color":"#2D5C77","colorv":2212},{"price":159900,"predict":155507,"diff":4393,"x":159900,"y":155507,"regression":true,"color":"#277782","colorv":4393},{"price":105000,"predict":102749,"diff":2251,"x":105000,"y":102749,"regression":true,"color":"#2D5E78","colorv":2251},{"price":282601,"predict":176045,"diff":106556,"x":282601,"y":176045,"regression":true,"color":"#F1E22A","colorv":106556},{"price":106700,"predict":120693,"diff":-13993,"x":106700,"y":120693,"regression":true,"color":"#400F59","colorv":-13993},{"price":83000,"predict":76304,"diff":6696,"x":83000,"y":76304,"regression":true,"color":"#22908B","colorv":6696},{"price":329000,"predict":246614,"diff":82386,"x":329000,"y":246614,"regression":true,"color":"#ECE02C","colorv":82386},{"price":135000,"predict":132685,"diff":2315,"x":135000,"y":132685,"regression":true,"color":"#2C5F78","colorv":2315},{"price":78000,"predict":79182,"diff":-1182,"x":78000,"y":79182,"regression":true,"color":"#36396A","colorv":-1182},{"price":138000,"predict":155952,"diff":-17952,"x":138000,"y":155952,"regression":true,"color":"#410957","colorv":-17952},{"price":205000,"predict":217484,"diff":-12484,"x":205000,"y":217484,"regression":true,"color":"#3F115A","colorv":-12484},{"price":138000,"predict":129611,"diff":8389,"x":138000,"y":129611,"regression":true,"color":"#399980","colorv":8389},{"price":191000,"predict":167275,"diff":23725,"x":191000,"y":167275,"regression":true,"color":"#B1C948","colorv":23725},{"price":143000,"predict":125133,"diff":17867,"x":143000,"y":125133,"regression":true,"color":"#95BE55","colorv":17867},{"price":182900,"predict":214019,"diff":-31119,"x":182900,"y":214019,"regression":true,"color":"#430354","colorv":-31119},{"price":122400,"predict":121815,"diff":585,"x":122400,"y":121815,"regression":true,"color":"#32486F","colorv":585},{"price":150000,"predict":162071,"diff":-12071,"x":150000,"y":162071,"regression":true,"color":"#3F125A","colorv":-12071},{"price":104900,"predict":101842,"diff":3058,"x":104900,"y":101842,"regression":true,"color":"#2B667B","colorv":3058},{"price":85000,"predict":77570,"diff":7430,"x":85000,"y":77570,"regression":true,"color":"#2E9585","colorv":7430},{"price":119750,"predict":112259,"diff":7491,"x":119750,"y":112259,"regression":true,"color":"#2F9585","colorv":7491},{"price":86900,"predict":95104,"diff":-8204,"x":86900,"y":95104,"regression":true,"color":"#3E185D","colorv":-8204},{"price":118900,"predict":109803,"diff":9097,"x":118900,"y":109803,"regression":true,"color":"#409C7D","colorv":9097},{"price":98900,"predict":94458,"diff":4442,"x":98900,"y":94458,"regression":true,"color":"#267A83","colorv":4442},{"price":145000,"predict":136447,"diff":8553,"x":145000,"y":136447,"regression":true,"color":"#3B9A7F","colorv":8553},{"price":144600,"predict":136447,"diff":8153,"x":144600,"y":136447,"regression":true,"color":"#369881","colorv":8153},{"price":257000,"predict":229976,"diff":27024,"x":257000,"y":229976,"regression":true,"color":"#BBCD43","colorv":27024},{"price":95000,"predict":100086,"diff":-5086,"x":95000,"y":100086,"regression":true,"color":"#3C1F5F","colorv":-5086},{"price":109000,"predict":114316,"diff":-5316,"x":109000,"y":114316,"regression":true,"color":"#3C1D5F","colorv":-5316},{"price":238500,"predict":200728,"diff":37772,"x":238500,"y":200728,"regression":true,"color":"#D6D737","colorv":37772},{"price":546447,"predict":447083,"diff":99364,"x":546447,"y":447083,"regression":true,"color":"#EFE12B","colorv":99364},{"price":123600,"predict":123722,"diff":-122,"x":123600,"y":123722,"regression":true,"color":"#33426D","colorv":-122},{"price":139000,"predict":172591,"diff":-33591,"x":139000,"y":172591,"regression":true,"color":"#430254","colorv":-33591},{"price":219890,"predict":199114,"diff":20776,"x":219890,"y":199114,"regression":true,"color":"#A0C250","colorv":20776},{"price":172000,"predict":188062,"diff":-16062,"x":172000,"y":188062,"regression":true,"color":"#410C58","colorv":-16062},{"price":249900,"predict":267389,"diff":-17489,"x":249900,"y":267389,"regression":true,"color":"#410A57","colorv":-17489},{"price":126000,"predict":122413,"diff":3587,"x":126000,"y":122413,"regression":true,"color":"#296C7E","colorv":3587},{"price":133000,"predict":110606,"diff":22394,"x":133000,"y":110606,"regression":true,"color":"#A7C54C","colorv":22394},{"price":120300,"predict":117562,"diff":2738,"x":120300,"y":117562,"regression":true,"color":"#2B637A","colorv":2738},{"price":120300,"predict":117562,"diff":2738,"x":120300,"y":117562,"regression":true,"color":"#2B637A","colorv":2738},{"price":109500,"predict":109570,"diff":-70,"x":109500,"y":109570,"regression":true,"color":"#33436D","colorv":-70},{"price":109900,"predict":109296,"diff":604,"x":109900,"y":109296,"regression":true,"color":"#324970","colorv":604},{"price":149500,"predict":160868,"diff":-11368,"x":149500,"y":160868,"regression":true,"color":"#3F135B","colorv":-11368},{"price":449000,"predict":377761,"diff":71239,"x":449000,"y":377761,"regression":true,"color":"#E7DE2F","colorv":71239},{"price":439000,"predict":375210,"diff":63790,"x":439000,"y":375210,"regression":true,"color":"#E3DC30","colorv":63790},{"price":164900,"predict":161193,"diff":3707,"x":164900,"y":161193,"regression":true,"color":"#296D7E","colorv":3707},{"price":145000,"predict":137357,"diff":7643,"x":145000,"y":137357,"regression":true,"color":"#319684","colorv":7643},{"price":289000,"predict":257557,"diff":31443,"x":289000,"y":257557,"regression":true,"color":"#C9D23C","colorv":31443},{"price":210000,"predict":179658,"diff":30342,"x":210000,"y":179658,"regression":true,"color":"#C6D13E","colorv":30342},{"price":112500,"predict":111374,"diff":1126,"x":112500,"y":111374,"regression":true,"color":"#304E72","colorv":1126},{"price":125000,"predict":126944,"diff":-1944,"x":125000,"y":126944,"regression":true,"color":"#373267","colorv":-1944},{"price":125000,"predict":126944,"diff":-1944,"x":125000,"y":126944,"regression":true,"color":"#373267","colorv":-1944},{"price":229000,"predict":194761,"diff":34239,"x":229000,"y":194761,"regression":true,"color":"#D0D539","colorv":34239},{"price":140000,"predict":132463,"diff":7537,"x":140000,"y":132463,"regression":true,"color":"#309684","colorv":7537},{"price":131000,"predict":139804,"diff":-8804,"x":131000,"y":139804,"regression":true,"color":"#3E165C","colorv":-8804},{"price":33000,"predict":40472,"diff":-7472,"x":33000,"y":40472,"regression":true,"color":"#3D195D","colorv":-7472},{"price":107500,"predict":111346,"diff":-3846,"x":107500,"y":111346,"regression":true,"color":"#3B2461","colorv":-3846},{"price":205000,"predict":179658,"diff":25342,"x":205000,"y":179658,"regression":true,"color":"#B6CA46","colorv":25342},{"price":139999,"predict":133517,"diff":6482,"x":139999,"y":133517,"regression":true,"color":"#218E8B","colorv":6482},{"price":159000,"predict":174898,"diff":-15898,"x":159000,"y":174898,"regression":true,"color":"#410C58","colorv":-15898},{"price":120000,"predict":121611,"diff":-1611,"x":120000,"y":121611,"regression":true,"color":"#363669","colorv":-1611},{"price":105000,"predict":109270,"diff":-4270,"x":105000,"y":109270,"regression":true,"color":"#3C2160","colorv":-4270},{"price":70000,"predict":65590,"diff":4410,"x":70000,"y":65590,"regression":true,"color":"#267882","colorv":4410},{"price":112000,"predict":100976,"diff":11024,"x":112000,"y":100976,"regression":true,"color":"#63AA6C","colorv":11024},{"price":143000,"predict":137022,"diff":5978,"x":143000,"y":137022,"regression":true,"color":"#228889","colorv":5978},{"price":149000,"predict":134906,"diff":14094,"x":149000,"y":134906,"regression":true,"color":"#7DB460","colorv":14094},{"price":120000,"predict":110508,"diff":9492,"x":120000,"y":110508,"regression":true,"color":"#49A078","colorv":9492},{"price":132400,"predict":139297,"diff":-6897,"x":132400,"y":139297,"regression":true,"color":"#3D1A5E","colorv":-6897},{"price":122000,"predict":121057,"diff":943,"x":122000,"y":121057,"regression":true,"color":"#314C71","colorv":943},{"price":99990,"predict":88771,"diff":11219,"x":99990,"y":88771,"regression":true,"color":"#65AB6B","colorv":11219},{"price":72500,"predict":74056,"diff":-1556,"x":72500,"y":74056,"regression":true,"color":"#363769","colorv":-1556},{"price":133000,"predict":138137,"diff":-5137,"x":133000,"y":138137,"regression":true,"color":"#3C1E5F","colorv":-5137},{"price":137000,"predict":116544,"diff":20456,"x":137000,"y":116544,"regression":true,"color":"#9FC250","colorv":20456},{"price":169990,"predict":149073,"diff":20917,"x":169990,"y":149073,"regression":true,"color":"#A2C34F","colorv":20917},{"price":121700,"predict":118875,"diff":2825,"x":121700,"y":118875,"regression":true,"color":"#2B647B","colorv":2825},{"price":147469,"predict":139057,"diff":8412,"x":147469,"y":139057,"regression":true,"color":"#3A9980","colorv":8412},{"price":171810,"predict":139869,"diff":31941,"x":171810,"y":139869,"regression":true,"color":"#CDD43B","colorv":31941},{"price":122000,"predict":125028,"diff":-3028,"x":122000,"y":125028,"regression":true,"color":"#392B64","colorv":-3028},{"price":249000,"predict":222463,"diff":26537,"x":249000,"y":222463,"regression":true,"color":"#BACC44","colorv":26537},{"price":120000,"predict":118283,"diff":1717,"x":120000,"y":118283,"regression":true,"color":"#2E5775","colorv":1717},{"price":115000,"predict":108296,"diff":6704,"x":115000,"y":108296,"regression":true,"color":"#23908B","colorv":6704},{"price":134000,"predict":127280,"diff":6720,"x":134000,"y":127280,"regression":true,"color":"#23918A","colorv":6720},{"price":99900,"predict":93369,"diff":6531,"x":99900,"y":93369,"regression":true,"color":"#218E8B","colorv":6531},{"price":137900,"predict":125274,"diff":12626,"x":137900,"y":125274,"regression":true,"color":"#72B065","colorv":12626},{"price":158800,"predict":167138,"diff":-8338,"x":158800,"y":167138,"regression":true,"color":"#3E175C","colorv":-8338},{"price":107000,"predict":108397,"diff":-1397,"x":107000,"y":108397,"regression":true,"color":"#363769","colorv":-1397},{"price":120000,"predict":123636,"diff":-3636,"x":120000,"y":123636,"regression":true,"color":"#3A2662","colorv":-3636},{"price":142990,"predict":132925,"diff":10065,"x":142990,"y":132925,"regression":true,"color":"#56A573","colorv":10065},{"price":125000,"predict":125413,"diff":-413,"x":125000,"y":125413,"regression":true,"color":"#343F6C","colorv":-413},{"price":88400,"predict":90177,"diff":-1777,"x":88400,"y":90177,"regression":true,"color":"#373468","colorv":-1777},{"price":143000,"predict":125698,"diff":17302,"x":143000,"y":125698,"regression":true,"color":"#93BD56","colorv":17302},{"price":185000,"predict":132406,"diff":52594,"x":185000,"y":132406,"regression":true,"color":"#DBD934","colorv":52594},{"price":102000,"predict":104136,"diff":-2136,"x":102000,"y":104136,"regression":true,"color":"#382E65","colorv":-2136},{"price":120000,"predict":126038,"diff":-6038,"x":120000,"y":126038,"regression":true,"color":"#3D1C5E","colorv":-6038},{"price":84500,"predict":92093,"diff":-7593,"x":84500,"y":92093,"regression":true,"color":"#3E195D","colorv":-7593},{"price":135000,"predict":128627,"diff":6373,"x":135000,"y":128627,"regression":true,"color":"#218C8A","colorv":6373},{"price":105000,"predict":123018,"diff":-18018,"x":105000,"y":123018,"regression":true,"color":"#420856","colorv":-18018},{"price":123000,"predict":113824,"diff":9176,"x":123000,"y":113824,"regression":true,"color":"#429D7C","colorv":9176},{"price":127400,"predict":124756,"diff":2644,"x":127400,"y":124756,"regression":true,"color":"#2C6079","colorv":2644},{"price":125800,"predict":126510,"diff":-710,"x":125800,"y":126510,"regression":true,"color":"#353D6B","colorv":-710},{"price":115000,"predict":105468,"diff":9532,"x":115000,"y":105468,"regression":true,"color":"#4DA177","colorv":9532},{"price":118500,"predict":113401,"diff":5099,"x":118500,"y":113401,"regression":true,"color":"#248286","colorv":5099},{"price":139900,"predict":111930,"diff":27970,"x":139900,"y":111930,"regression":true,"color":"#BDCD42","colorv":27970},{"price":148500,"predict":149147,"diff":-647,"x":148500,"y":149147,"regression":true,"color":"#343E6C","colorv":-647},{"price":134500,"predict":130017,"diff":4483,"x":134500,"y":130017,"regression":true,"color":"#267A83","colorv":4483},{"price":202386,"predict":173927,"diff":28459,"x":202386,"y":173927,"regression":true,"color":"#BFCE41","colorv":28459},{"price":164900,"predict":148612,"diff":16288,"x":164900,"y":148612,"regression":true,"color":"#8BBA59","colorv":16288},{"price":202386,"predict":191919,"diff":10467,"x":202386,"y":191919,"regression":true,"color":"#5CA770","colorv":10467},{"price":142977,"predict":140315,"diff":2662,"x":142977,"y":140315,"regression":true,"color":"#2C6179","colorv":2662},{"price":140379,"predict":140315,"diff":64,"x":140379,"y":140315,"regression":true,"color":"#33436E","colorv":64},{"price":144900,"predict":140527,"diff":4373,"x":144900,"y":140527,"regression":true,"color":"#277682","colorv":4373},{"price":172768,"predict":175554,"diff":-2786,"x":172768,"y":175554,"regression":true,"color":"#392B64","colorv":-2786},{"price":141600,"predict":140315,"diff":1285,"x":141600,"y":140315,"regression":true,"color":"#305073","colorv":1285},{"price":141632,"predict":140315,"diff":1317,"x":141632,"y":140315,"regression":true,"color":"#305173","colorv":1317},{"price":160000,"predict":168421,"diff":-8421,"x":160000,"y":168421,"regression":true,"color":"#3E175C","colorv":-8421},{"price":149900,"predict":192044,"diff":-42144,"x":149900,"y":192044,"regression":true,"color":"#430254","colorv":-42144},{"price":170100,"predict":146933,"diff":23167,"x":170100,"y":146933,"regression":true,"color":"#ACC74A","colorv":23167},{"price":89900,"predict":82962,"diff":6938,"x":89900,"y":82962,"regression":true,"color":"#269289","colorv":6938},{"price":131900,"predict":103812,"diff":28088,"x":131900,"y":103812,"regression":true,"color":"#BECE42","colorv":28088},{"price":314000,"predict":296935,"diff":17065,"x":314000,"y":296935,"regression":true,"color":"#91BC57","colorv":17065},{"price":125800,"predict":124756,"diff":1044,"x":125800,"y":124756,"regression":true,"color":"#314D72","colorv":1044},{"price":142000,"predict":130564,"diff":11436,"x":142000,"y":130564,"regression":true,"color":"#67AB6A","colorv":11436},{"price":215000,"predict":185410,"diff":29590,"x":215000,"y":185410,"regression":true,"color":"#C3D040","colorv":29590},{"price":91900,"predict":79405,"diff":12495,"x":91900,"y":79405,"regression":true,"color":"#6FAF67","colorv":12495},{"price":83500,"predict":86684,"diff":-3184,"x":83500,"y":86684,"regression":true,"color":"#3A2963","colorv":-3184},{"price":143000,"predict":127438,"diff":15562,"x":143000,"y":127438,"regression":true,"color":"#87B85B","colorv":15562},{"price":119500,"predict":113900,"diff":5600,"x":119500,"y":113900,"regression":true,"color":"#238788","colorv":5600},{"price":209000,"predict":189097,"diff":19903,"x":209000,"y":189097,"regression":true,"color":"#9DC151","colorv":19903},{"price":126900,"predict":126446,"diff":454,"x":126900,"y":126446,"regression":true,"color":"#32466F","colorv":454},{"price":125000,"predict":118062,"diff":6938,"x":125000,"y":118062,"regression":true,"color":"#269289","colorv":6938},{"price":139500,"predict":137270,"diff":2230,"x":139500,"y":137270,"regression":true,"color":"#2D5D78","colorv":2230},{"price":180000,"predict":171826,"diff":8174,"x":180000,"y":171826,"regression":true,"color":"#379881","colorv":8174}],"type":"scatter"}],"xAxis":{"type":"linear","title":{"text":"price"},"categories":null},"subtitle":{"text":"Sale price and Predicted price in a relationship","align":"left"}},"theme":{"colors":["#f1c40f","#2ecc71","#9b59b6","#e74c3c","#34495e","#3498db","#1abc9c","#f39c12","#d35400"],"chart":{"backgroundColor":"#ECF0F1"},"xAxis":{"gridLineDashStyle":"Dash","gridLineWidth":1,"gridLineColor":"#BDC3C7","lineColor":"#BDC3C7","minorGridLineColor":"#BDC3C7","tickColor":"#BDC3C7","tickWidth":1},"yAxis":{"gridLineDashStyle":"Dash","gridLineColor":"#BDC3C7","lineColor":"#BDC3C7","minorGridLineColor":"#BDC3C7","tickColor":"#BDC3C7","tickWidth":1},"legendBackgroundColor":"rgba(0, 0, 0, 0.5)","background2":"#505053","dataLabelsColor":"#B0B0B3","textColor":"#34495e","contrastTextColor":"#F0F0F3","maskColor":"rgba(255,255,255,0.3)"},"conf_opts":{"global":{"Date":null,"VMLRadialGradientURL":"http =//code.highcharts.com/list(version)/gfx/vml-radial-gradient.png","canvasToolsURL":"http =//code.highcharts.com/list(version)/modules/canvas-tools.js","getTimezoneOffset":null,"timezoneOffset":0,"useUTC":true},"lang":{"contextButtonTitle":"Chart context menu","decimalPoint":".","downloadJPEG":"Download JPEG image","downloadPDF":"Download PDF document","downloadPNG":"Download PNG image","downloadSVG":"Download SVG vector image","drillUpText":"Back to {series.name}","invalidDate":null,"loading":"Loading...","months":["January","February","March","April","May","June","July","August","September","October","November","December"],"noData":"No data to display","numericSymbols":["k","M","G","T","P","E"],"printChart":"Print chart","resetZoom":"Reset zoom","resetZoomTitle":"Reset zoom level 1:1","shortMonths":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"thousandsSep":" ","weekdays":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},"type":"chart","fonts":[],"debug":false},"evals":[],"jsHooks":[]}</script>
<p>The chart above shows that the model is pretty accurate up until the 300.000 price range. The red line is deviating from the black suggesting that the model is underpredicting the prices for the most expensive flats. This is to be expected since the top end of the market contains high fluctuations in the prices. In order to capture this variance, additional data need to be gathered. Imagine, having marble instead of cheap tiles in bathrooms would lead to higher prices. This information isn’t part of the model and we can accept that the model underperforms.</p>
<p>Now, how do we trust the prediction? Understanding the machine learning model helps validate the accuracy and helps us to trust that it works. To transform this black box model into <strong>interpretable machine learning model</strong> we use the LIME package. The code below initiated process where the machine learning model is explained with series of <strong>support</strong> and <strong>contradict</strong> statements.</p>
<pre class="r"><code>library(lime)

explainer &lt;- lime::lime(
        x              = as.data.frame(train_h2o) %&gt;% head(20), 
        model          = automl_models_h2o@leader, 
        bin_continuous = FALSE)

# Run explain() on explainer
explanations &lt;- lime::explain(
        x =  as.data.frame(test_h2o) %&gt;% head(10), 
        explainer    = explainer,
        n_labels     = 1,
        n_features   = 6)</code></pre>
<pre><code>## 
  |                                                                       
  |                                                                 |   0%
  |                                                                       
  |=================================================================| 100%
## 
  |                                                                       
  |                                                                 |   0%
  |                                                                       
  |=================================================================| 100%</code></pre>
<pre class="r"><code>lime::plot_explanations(explanations)</code></pre>
<p><img src="/posts/2018-11-02-predicting-residential-property-prices-in-bratislava-using-recipes-h2o-machine-learning-part-ii_files/figure-html/explainig%20the%20model%20using%20LIME-1.png" width="672" /></p>
<p>In the chart above 4 different apartments are examined for key variables influencing the price in the machine learning model. Positively impacting factors are colored green and negative are red. The most powerful variable is size, with the highest positive contribution to the price. Other variables, like submarket, no of bedrooms or status can be now interpreted for their contribution to the overall value.</p>
</div>
<div id="recap" class="section level2">
<h2>Recap</h2>
<p>In this article, we applied an automatic machine learning model framework H2o on real-world dataset to predict apartment prices. The results are outperforming linear regression and are used to predict prices on ca 340 apartments with good accuracy. The LIME framework helped to understand how the AI decided to predict the prices.</p>
</div>
